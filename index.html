<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="theme-color" content="#3b82f6" />
    <title>Formula IHU - Team Management Platform</title>
    <meta name="description" content="Comprehensive team preparation management platform for Formula IHU competition teams" />
    <meta name="author" content="Formula IHU" />

    <meta property="og:title" content="Formula IHU - Team Management Platform" />
    <meta property="og:description" content="Comprehensive team preparation management platform for Formula IHU competition teams" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@Lovable" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <div id="root"></div>
    <script>
      // CRITICAL: Pre-initialize React placeholder with a valid Children object
      // This must happen before any module code executes, including prepended safety checks
      (function() {
        'use strict';
        
        // Create a minimal React placeholder with a stub Children object
        // This ensures the prepended code in chunks has something safe to access
        if (!window.React) {
          // Create a stub Children object that won't cause errors when accessed
          var stubChildren = {
            map: function() { return []; },
            forEach: function() {},
            count: function() { return 0; },
            only: function() { return null; },
            toArray: function() { return []; }
          };
          
          window.React = {
            Children: stubChildren
          };
          
          // Make it non-configurable to prevent issues
          try {
            Object.defineProperty(window.React, 'Children', {
              value: stubChildren,
              writable: true,
              configurable: true,
              enumerable: true
            });
          } catch (e) {
            // If defineProperty fails, the assignment above should work
          }
        } else if (!window.React.Children) {
          // If React exists but Children doesn't, add a stub
          var stubChildren = {
            map: function() { return []; },
            forEach: function() {},
            count: function() { return 0; },
            only: function() { return null; },
            toArray: function() { return []; }
          };
          
          try {
            Object.defineProperty(window.React, 'Children', {
              value: stubChildren,
              writable: true,
              configurable: true,
              enumerable: true
            });
          } catch (e) {
            window.React.Children = stubChildren;
          }
        }
        
        // Cache for React.Children
        window.__REACT_CHILDREN__ = window.React.Children;
        
        // Function to safely update React when it becomes available
        var updateReact = function(react) {
          try {
            if (react && react.Children && react !== window.__REACT_PLACEHOLDER__) {
              // Replace with real React
              window.React = react;
              window.__REACT_CHILDREN__ = react.Children;
              
              // Ensure Children is set
              if (!window.React.Children) {
                window.React.Children = react.Children;
              }
              return true;
            }
          } catch (e) {
            // Ignore errors
          }
          return false;
        };
        
        // Monitor for React to be set (check if it's the real React, not placeholder)
        var checkInterval = setInterval(function() {
          var react = window.React;
          if (react && react !== window.__REACT_PLACEHOLDER__) {
            // Check if it has the real Children (not our stub)
            if (react.Children && 
                typeof react.Children.map === 'function' && 
                react.Children !== window.__REACT_CHILDREN__) {
              if (updateReact(react)) {
                clearInterval(checkInterval);
              }
            }
          }
        }, 5);
        
        // Clear after 2 seconds
        setTimeout(function() {
          clearInterval(checkInterval);
        }, 2000);
        
        // Store placeholder reference
        window.__REACT_PLACEHOLDER__ = window.React;
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
